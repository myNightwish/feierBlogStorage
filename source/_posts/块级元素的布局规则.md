---
title: 块级元素的布局规则
date: 2021-12-09 22:43:44
tags: '前端'
categories: 'HTML'
description: '很重要'
cover: https://img-blog.csdnimg.cn/20200718094852316.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDc1MzM2,size_16,color_FFFFFF,t_70
---

### 块级元素的盒模型 ###

#### 1、盒模型水平方向布局规则： ####

元素在父元素的位置由以下属性决定：

margin-left、border-left、padding-left   width、padding-right、border-right、margin-right

这7个值构成了父元素的content内容区；

必须满足的条件：

```
子元素margin-left+border-left+padding-left+width+padding-right+border-right=父元素宽度
```

* 当等式不成立时，称为过度约束，浏览器会自动调整：

  这7个值中有三个可以设置为auto：width (默认是auto)、margin-left、margin-right

  1. 如果7个值中没有auto会先调整margin-right；所以即使设置margin-right是无效的；
  2. 如果某一个值为auto就会先自动调整那个值；
  3. 如果一个宽度和一个外边距是auto，那么宽度会调整到最大
  4. 如果三个都是auto，那么宽度会是最大；
  5. 如果外边距都是auto，那么两个auto会赋相同的值(常用这个特点实现水平居中)

#### 2、盒模型垂直方向布局 ####

* **默认情况下，如果父元素不设置高度，父元素是被子元素撑开的**。如果父元素指定了高度，设置多少就是多少；

* 子元素在内容区中排列：

  1. 如果子元素的大小超过父元素：则子元素会从父元素中溢出；

  2. 使用overflow属性来设置父元素如何处理溢出的子元素：

     visible：(默认值)子元素从父元素中溢出，在父元素的外部显示
     hidden:溢出的元素将会被裁减而不显示
     scroll:生成两个滚动条，通过两个滚动条实现浏览
     auto：根据需要生成两个滚动条

#### 3、垂直外边距塌陷 ####

**概念：**两个或多个相邻普通流中的盒子（父子或兄弟元素）在**垂直方向**上的外边距会发生叠加

##### 兄弟元素：外边距的计算 #####

* 两数为正，取最大值
* 两数为负，取绝对值最大的数
* 一正一负：取二者之和

怎么解决：（兄弟元素的外边距重叠问题不用处理，因为就希望这样的效果）

* ##### 为什么这样设计： #####

  解决垂直方向的多个段落之间的间隔：为了兼顾顶部、底部的没有空隙，所以添加了margin-bottom，margin-top ，由于外边距的合并这样的设计，不会让每个段落之间多出来一份宽度，这样整体间距一样，整齐布局

##### 父子元素： #####

外边距计算：

* 父子元素之间的外边距子元素会传递给父元素（子会将父带下来，这样不好，需要解决）

怎么解决：

1. 不用margin，换用padding，再将高度减去（需要计算）

2. 改父元素定义上边框，设置透明，还需要减去高度，margin-top

3. 解决思路：用一个东西，将上边的外边距与下边的外边距隔开，不要互相影响

   ```css
   <div class="box1 clearfix">
   			// 阻隔的添加在这里
       <div class="box2"></div>
   </div>
   ```

   ```css
   .clearfix::before,  //1
   .clearfix::after {  //4
       content: "";  //2
       display: table; //table可以隔开，本身不占据位置，既可以解决高度塌陷、外边距重叠问题 //3
       clear: both; //5
   }
   // 1、2、3 其实是解决了 外边距重叠问题；
   // 4、5是解决 高度塌陷问题
   ```

* 什么时候用before的问题？

  * **其实它是用来处理margin边距重叠的，由于内部元素 float 创建了BFC，导致内部元素的margin-top和 上一个盒子的margin-bottom 发生叠加**。如果这不是你所希望的，那么就可以加上before
